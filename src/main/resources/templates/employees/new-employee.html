<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head th:replace="layouts :: header">
  <title>Business Dashboard</title>
</head>
<body>
	<nav th:replace="layouts :: navbarEMP"></nav>
	<div sec:authorize="hasRole('ADMIN')">

		

		<br>
		<div class="container">

			<H3>Capture Employee</H3>
		<br><br>
			<form th:action="@{/business-dashboard/employees/save}"
				th:object="${employeetPersistRequest}" method="POST">


				<!--  This will be used to bind to the employee that was clicked on (USED FOR UPDATES)-->
				<input type="hidden"
					th:field="${employeetPersistRequest.employeeId}" />   

				<div class="form-group row">
					<input type="text" placeholder="Full Name"
						th:field="${employeetPersistRequest.fullName}"> <span
						style="color: red" th:if="${#fields.hasErrors('fullName')}"
						th:errors="${employeetPersistRequest.fullNamee}"> </span>
				</div>

				<div class="form-group row">
					<input type="text" placeholder="Employee Number"
						th:field="${employeetPersistRequest.employeeNumber}"> <span
						style="color: red" th:if="${#fields.hasErrors('employeeNumber')}"
						th:errors="${employeetPersistRequest.employeeNumber}"> </span>
				</div>

				<div class="form-group row">
					<input type="text" placeholder="Telephone Number"
						th:field="${employeetPersistRequest.telephone}"> <span
						style="color: red" th:if="${#fields.hasErrors('telephone')}"
						th:errors="${employeetPersistRequest.telephone}"> </span>
				</div>

				<div class="form-group row">
					<input type="text" placeholder="Cell Phone Number"
						th:field="${employeetPersistRequest.cellphone}"> <span
						style="color: red" th:if="${#fields.hasErrors('cellphone')}"
						th:errors="${employeetPersistRequest.cellphone}"> </span>
				</div>
				
				<div class="form-group row">
					<input type="text" placeholder="Email Address"
						th:field="${employeetPersistRequest.email}"> <span
						style="color: red" th:if="${#fields.hasErrors('email')}"
						th:errors="${employeetPersistRequest.email}"> </span>
				</div>

				<b>Enter a unique Id Number</b>
				<div class="form-group row">
					<input type="text" placeholder="Identity Number"
						th:field="${employeetPersistRequest.idNumber}"> <span
						style="color: red" th:if="${#fields.hasErrors('idNumber')}"
						th:errors="${employeetPersistRequest.idNumber}"> </span>
				</div>				

				<b>Enter a unique User Id</b><br>
				<div class="form-group row">
					<input type="text" placeholder="User Id"
						th:field="${employeetPersistRequest.userId}"> <span
						style="color: red" th:if="${#fields.hasErrors('userId')}"
						th:errors="${employeetPersistRequest.userId}"> </span>
				</div>

				<b>Password:</b>
				<div >
					<p style="color: red" th:text="${errorMessage}" />
				</div>
				<div class="form-group row">    
					<input type="password" placeholder="User Password"
						th:field="${employeetPersistRequest.password}"> <span
						style="color: red" th:if="${#fields.hasErrors('password')}"
						th:errors="${employeetPersistRequest.password}"> </span>
				</div>

				<b>Specify the Role of the Employee:</b>
				<div class="form-group row">
					<select th:field="${employeetPersistRequest.authority}">
						<option value="ROLE_USER">Normal user Role</option>
						<option value="ROLE_ADMIN">Administrator Role</option>
						<option value="ROLE_TEAMMEMBER">Team member Role</option>
						<option value="ROLE_MANAGER">Manager Role</option>
					</select>
				</div>

				
				<b>Is Employee Enabled:</b>
				<div class="form-group row">
					<select th:field="${employeetPersistRequest.enabled}">
						<option value="1" selected>Yes</option>
						<option value="0">No</option>
					</select>
				</div>

				<div class="form-group row">
					<button class="btn btn-info col-2" type="submit">Save
						Employee</button>
				</div>

			</form>
		</div>
	</div>

</body>

</html>